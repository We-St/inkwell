<div class="activity-form"> 
	<!-- Does not work with ion-modal-view here... investigate -->

	<ion-header-bar class="bar bar-header bar-positive">
		<h1 class="title">Activity</h1>
	</ion-header-bar>
	<ion-content class="has-footer">
		<form>
			<div class="list">
				<label class="item item-input item-stacked-label">
					<span class="input-label">Title</span>
					<input type="text" name="title" placeholder="Title" ng-model="activity.title" />
				</label>
				<label class="item item-input item-stacked-label">
					<span class="input-label">Date</span>
					<button class="date-select" ng-click="selectDate()">
						{{ activity.date | date:'dd.MM.yyyy' }}
					</button>
				</label>
				<div class="item item-input">
					<div class="row">
						<div class="col-67">
							<span class="input-label">Type of Activity</span>
							<select ng-options="type.id as type.title for type in activityTypes" 
   										ng-model="activity.type" ng-change="updateActivityType(type)"></select>
						</div>
						<div class="col">
							<div class="row">
								<div class="col">
									<span class="input-label">Icon</span>
									<span class="icon-preview"
												ng-click="openIconSelect()">
										<i ng-class="activity.icon.css"></i>
									</span>		
								</div>
								<div class="col">
									<span class="input-label">Color</span>
									<span class="color-preview"
										    ng-class="activity.color.css"
												ng-click="openColorSelect()">
									</span>
								</div>
							</div>
						</div>
					</div>
				</div>
				<label class="item item-input item-stacked-label">
					<span class="input-label">Description</span>
					<textarea id="description"
										placeholder="Description"
										ng-model="activity.description"
										ng-keyup="expandText()"
										ng-keydown="expandText()"></textarea>
				</label>
				<label class="item item-input item-stacked-label">
					<span class="input-label">Location</span>

					<input type="text" name="location" class="location" placeholder="Location" ng-model="activity.location" />
					<!-- <button class="button button-icon button-small location-button">
						<i class="icon ion-location"></i>
					</button> -->
				</label>
				<div class="item item-input item-stacked-label">
					<span class="input-label">Friends</span>

					<div>
						<span class="friend-tag" ng-repeat="friend in activity.friends">
						  {{ friend.title }}
						  <button ng-click="deleteFriend(friend)"><i class="icon ion-close"></i></button>
						 </span>
					</div>
					<div style="clear: both"></div>
					<input type="text" name="friend" placeholder="Friends" ng-model="data.newFriend" ng-enter="addFriend()" />
				</div>
				<div class="item item-input item-stacked-label">
					<div class="input-label">Images</div>

					<div class="image"
							 ng-repeat="image in images">
 						<img data-ng-src="{{ image.base64 }}" />
					</div>

					<button class="button button-icon add-images"
								  ng-click="chooseImages()">
						<i class="icon ion-plus"></i>
					</button>
				</div>
				<div class="item item-input item-stacked-label">
					<div class="input-label">Counter</div>

					<div class="list card counter"
							 ng-if="activity.counters.length">
						<div class="item row"
								 ng-repeat="counter in activity.counters">
							<div class="col">
								{{ counter.title }}
							</div>
	            <div class="col">
	           	  {{ counter.value }}
	            </div>
	            <div class="col middle">
	              <a class="button button-stable button-small"
	                      ng-click="openAddCounterForm(counter)">
	                <i class="icon ion-edit"></i>
	              </a>
	              <a class="button button-stable button-small"
	                      ng-click="deleteCounter(counter)">
	                <i class="icon ion-trash-a"></i>
	              </a>
	            </div>
	           </div>
          </div>

					<button class="button button-icon add-counter"
									ng-click="openAddCounterForm()">
						<i class="icon ion-plus"></i>
					</button>

				</div>
			</div>
		</form>
	</ion-content>

  <ion-footer-bar class="bar-stable">
    <div class="button-bar bar-footer">
      <a class="button button-raised button-icon" ng-click="cancel()">Cancel</a>
      <a class="button button-icon" ng-click="save({activity: activity}); modal.hide()">Save</a>
    </div>
  </ion-footer-bar>
</div>